# TechSemina - sonarQubeë¥¼ ì´ìš©í•œ ìë™ ì½”ë“œ í…ŒìŠ¤íŠ¸


## 1. í”„ë¡œì íŠ¸ ê°œìš”


### ğŸ”¹ ì£¼ì œ ì„ ì • ì´ìœ 

- ë™ì  í…ŒìŠ¤íŠ¸ ë„êµ¬ì—ë§Œ ìµìˆ™í•´ ìˆì§€ë§Œ, ì •ì  ì½”ë“œ ë¶„ì„ ë„êµ¬ì¸ **SonarQube**ë„ ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬ì— ì¤‘ìš”í•˜ë‹¤ëŠ” ì ì„ ì†Œê°œí•˜ê³ ì í•¨
    
- **ì½”ë“œ ë¦¬ë·° ìë™í™” ë° í’ˆì§ˆ ì§„ë‹¨ íš¨ìœ¨ì„± í–¥ìƒ**ì„ í†µí•´ ê°œë°œ ì‹œê°„ ì ˆê°
    
- **CI/CD íŒŒì´í”„ë¼ì¸ì— ì •ì  ë¶„ì„ ë„êµ¬ë¥¼ ì—°ë™í•˜ëŠ” ë°©ì•ˆ**ì„ ì œì•ˆí•˜ì—¬, í…ŒìŠ¤íŠ¸ ë¶€ë‹´ì„ ì¤„ì´ê³  ì¸í”„ë¼ êµ¬ì¶•ì— ì§‘ì¤‘í•  ìˆ˜ ìˆëŠ” ê°œë°œ í™˜ê²½ ì¡°ì„±
    

### ğŸ”¹ ê¸°ëŒ€ íš¨ê³¼

- ì½”ë“œ í’ˆì§ˆ ì§€í‘œì˜ ì •ëŸ‰ì  ê´€ë¦¬
    
- ë³´ì•ˆ ì·¨ì•½ì  ì‚¬ì „ ì˜ˆë°©
    
- ì½”ë“œ ë¦¬ë·° íš¨ìœ¨ì„± í–¥ìƒ ë° ìë™í™” ê¸°ë°˜ í™•ë³´


---

## ğŸ” 2. SonarQubeë€?

**SonarQube**ëŠ” ì •ì  ì½”ë“œ ë¶„ì„ íˆ´ë¡œ, **ì½”ë“œ í’ˆì§ˆì„ ìë™ìœ¼ë¡œ ê²€ì‚¬í•˜ê³  ì‹œê°í™”**í•´ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. ê°œë°œìê°€ ì‘ì„±í•œ ì½”ë“œì˜ ë‹¤ìŒê³¼ ê°™ì€ ìš”ì†Œë“¤ì„ ìë™ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤:

### âœ… ì£¼ìš” ê¸°ëŠ¥

| í•­ëª©                             | ì„¤ëª…                   | ì˜ˆì‹œ                                      |
| ------------------------------ | -------------------- | --------------------------------------- |
| **ë²„ê·¸ (Bugs)**                  | ì‹¤í–‰ ì‹œ ì—ëŸ¬ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆëŠ” ì½”ë“œ | `String s = null; s.length();`          |
| **ì½”ë“œ ìŠ¤ë©œ (Code Smells)**        | ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ìš´ ì½”ë“œ êµ¬ì¡°      | ë„ˆë¬´ ê¸´ ë©”ì†Œë“œ, ì¤‘ë³µëœ ì¡°ê±´ë¬¸                       |
| **ë³´ì•ˆ ì·¨ì•½ì  (Vulnerabilities)**   | ë³´ì•ˆ ìœ„í˜‘ì´ ìˆëŠ” ì½”ë“œ         | `String pwd = "admin123";` (í•˜ë“œì½”ë”©ëœ ë¹„ë°€ë²ˆí˜¸) |
| **ë³´ì•ˆ í•«ìŠ¤íŒŸ (Security Hotspots)** | ê²€í† ê°€ í•„ìš”í•œ ë³´ì•ˆ ê´€ë ¨ ì½”ë“œ     | ì‚¬ìš©ì ì…ë ¥ì„ ì§ì ‘ ë¡œê·¸ì— ì¶œë ¥í•˜ê±°ë‚˜ SQL ì¿¼ë¦¬ì— ì‚½ì…         |
| **ì¤‘ë³µ ì½”ë“œ (Duplications)**       | ì½”ë“œ ì¤‘ë³µë¥                | ì—¬ëŸ¬ í´ë˜ìŠ¤ì— ê°™ì€ ìœ í‹¸ë¦¬í‹° ë©”ì†Œë“œê°€ ë°˜ë³µë¨                |
| **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ (Coverage)**        | í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€             | ì „ì²´ 100ì¤„ ì¤‘ 60ì¤„ë§Œ í…ŒìŠ¤íŠ¸ â†’ 60% ì»¤ë²„ë¦¬ì§€           |



### ğŸ§  SonarQubeê°€ ì™œ í•„ìš”í• ê¹Œ?

1. **ì½”ë“œ í’ˆì§ˆì„ ìë™ìœ¼ë¡œ ì ê²€**í•´ì£¼ê¸° ë•Œë¬¸ì— ì‹¤ìˆ˜ë‚˜ ë¬¸ì œë¥¼ ì‚¬ì „ì— ë°œê²¬í•  ìˆ˜ ìˆì–´ìš”.
    
2. **ì§€ì†ì ì¸ í’ˆì§ˆ ê´€ë¦¬(Clean Code)** â†’ CI/CD íŒŒì´í”„ë¼ì¸ì— ë„£ìœ¼ë©´, ë°°í¬ ì „ì— ì½”ë“œ í’ˆì§ˆì„ ìë™ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥.
    
3. íŒ€ ì „ì²´ì˜ **ì½”ë”© í‘œì¤€ ìœ ì§€**, ë¦¬ë·° íš¨ìœ¨ì„± í–¥ìƒ.
    
4. ì˜¤í”ˆì†ŒìŠ¤ or ì—”í„°í”„ë¼ì´ì¦ˆ í™˜ê²½ ëª¨ë‘ ì§€ì›.
    


### ğŸ› ï¸ ì§€ì› ì–¸ì–´ ë° ë„êµ¬

- Java, Python, JavaScript, TypeScript, C#, Kotlin ë“± ë‹¤ìˆ˜
    
- Gradle, Maven, GitHub Actions, Jenkins ë“±ê³¼ ì—°ë™ ê°€ëŠ¥
    


---

## 3. ğŸ–¥ï¸ ê¸°ë³¸ êµ¬ì„± ìš”ì†Œ

- **SonarQube Server**: ì›¹ UIì™€ ë¶„ì„ ê²°ê³¼ ì €ì¥
    
- **Scanner (ë¶„ì„ê¸°)**: ì‹¤ì œ ì½”ë“œë¥¼ ê²€ì‚¬í•´ì„œ ê²°ê³¼ë¥¼ ì „ì†¡
    
- **Database**: ë¶„ì„ ê²°ê³¼ ì €ì¥ì†Œ (PostgreSQL ë“±)

### 1. **SonarQube Server**

- ğŸ“Œ **ë¬´ì—‡ì¸ê°€ìš”?**  
    SonarQubeì˜ **ì¤‘ì‹¬ì´ ë˜ëŠ” ì„œë²„**ë¡œ, ì›¹ UIë¥¼ ì œê³µí•˜ë©° ë¶„ì„ ê²°ê³¼ë¥¼ ì‹œê°í™”í•˜ê³  ì €ì¥í•©ë‹ˆë‹¤.
    
- ğŸ”§ **ì–´ë–»ê²Œ ì“°ì´ë‚˜ìš”?**
    
    - ê°œë°œìëŠ” ì›¹ ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ **ë¶„ì„ ê²°ê³¼, ì»¤ë²„ë¦¬ì§€, ì½”ë“œ ìŠ¤ë©œ, ë²„ê·¸ ë“±**ì„ í™•ì¸
        
    - ê´€ë¦¬ìë‚˜ íŒ€ì›ë“¤ì€ ì—¬ê¸°ì„œ **í’ˆì§ˆ ê¸°ì¤€ ì„¤ì •, í”„ë¡œì íŠ¸ ê´€ë¦¬**ë¥¼ ìˆ˜í–‰
        
    - REST APIë„ ì œê³µë˜ì–´ ì™¸ë¶€ íˆ´ê³¼ ì—°ë™ ê°€ëŠ¥ (ì˜ˆ: Slack, Jenkins ì•Œë¦¼ ë“±)
        

### 2. **Scanner (ë¶„ì„ê¸°)**

- ğŸ“Œ **ë¬´ì—‡ì¸ê°€ìš”?**  
    ì‹¤ì œë¡œ ì½”ë“œë¥¼ ì½ê³  ë¶„ì„í•œ ë‹¤ìŒ, ê·¸ ê²°ê³¼ë¥¼ SonarQube Serverì— ì „ì†¡í•˜ëŠ” **í´ë¼ì´ì–¸íŠ¸ ë„êµ¬**ì…ë‹ˆë‹¤.
    
- ğŸ”§ **ì–´ë–»ê²Œ ì“°ì´ë‚˜ìš”?**
    
    - Gradle/Maven/NPM/Jenkins ë“±ì—ì„œ ë¶„ì„ ëª…ë ¹ì„ ì‹¤í–‰í•  ë•Œ ì‘ë™
        
        bash
        
        ë³µì‚¬í¸ì§‘
        
        `./gradlew sonarqube`
        
    - ì´ ëª…ë ¹ì´ Scannerë¥¼ ì‹¤í–‰ â†’ **ì†ŒìŠ¤ì½”ë“œ, í…ŒìŠ¤íŠ¸, ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸, ì½”ë“œ ì´ìŠˆ** ë“±ì„ ë¶„ì„
        
    - ê²°ê³¼ëŠ” Serverë¡œ ì „ì†¡ë˜ì–´ UIì— í‘œì‹œë¨
        

### 3. **Database**

- ğŸ“Œ **ë¬´ì—‡ì¸ê°€ìš”?**  
    SonarQubeê°€ ë¶„ì„í•œ ëª¨ë“  ë°ì´í„°ì™€ ì„¤ì •ì„ ì €ì¥í•˜ëŠ” **ì¤‘ì•™ ì €ì¥ì†Œ**ì…ë‹ˆë‹¤.  
    ì£¼ë¡œ PostgreSQL, MySQL, Oracle ë“±ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
    
- ğŸ”§ **ì–´ë–»ê²Œ ì“°ì´ë‚˜ìš”?**
    
    - **í”„ë¡œì íŠ¸ ë¶„ì„ ê¸°ë¡, ì‚¬ìš©ì ì„¤ì •, í’ˆì§ˆ í”„ë¡œíŒŒì¼, ëŒ€ì‹œë³´ë“œ ë°ì´í„°** ë“±ì„ ì €ì¥
        
    - Serverê°€ ì‹¤í–‰ë  ë•Œ ì´ DBë¥¼ ì°¸ì¡°í•˜ì—¬ ëª¨ë“  ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ê³  ê°±ì‹ í•¨
        
    - ì¥ê¸°ì ìœ¼ë¡œ ì—¬ëŸ¬ í”„ë¡œì íŠ¸ í’ˆì§ˆì˜ ì¶”ì´ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŒ

### ğŸ† SonarQubeì—ì„œ PostgreSQLì„ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì´ìœ 

- ê³µì‹ ê¶Œì¥ (Recommended by SonarSource)

- SonarQube ê³µì‹ ë¬¸ì„œì—ì„œ PostgreSQLì„ **ê°€ì¥ ë¨¼ì €**, **ê¸°ë³¸ ì˜ˆì œë¡œ** ì†Œê°œ
    
- ë²„ì „ ê°„ í˜¸í™˜ì„±, ì„±ëŠ¥, ìœ ì§€ë³´ìˆ˜ ì´ìŠˆê°€ ì ì–´ì„œ ì‹ ë¢°ë„ ë†’ìŒ
    


## âš–ï¸ ë¹„êµ: PostgreSQL vs MySQL vs Oracle

|í•­ëª©|**PostgreSQL**|**MySQL**|**Oracle**|
|---|---|---|---|
|ğŸ”§ **SonarQube ì§€ì›**|âœ… ê³µì‹ ì§€ì› & ê¶Œì¥|âœ… ê³µì‹ ì§€ì›|âœ… ê³µì‹ ì§€ì› (Enterpriseì—ì„œ ì£¼ë¡œ ì‚¬ìš©)|
|ğŸš€ **ì„±ëŠ¥**|ê³ ì„±ëŠ¥, ëŒ€ìš©ëŸ‰ ì²˜ë¦¬ì— ê°•í•¨|ì½ê¸° ì„±ëŠ¥ ìš°ìˆ˜, ì“°ê¸°ëŠ” ìƒëŒ€ì ìœ¼ë¡œ ì•½í•¨|ìµœê³  ì„±ëŠ¥, í•˜ì§€ë§Œ ë¬´ê²ê³  ë¹„ìŒˆ|
|ğŸ“ **í‘œì¤€ SQL í˜¸í™˜ì„±**|âœ… ë§¤ìš° ë†’ìŒ|âŒ ë‚®ìŒ (ì œì•½ ë§ìŒ)|âœ… ë†’ìŒ|
|ğŸ§  **ê¸°ëŠ¥ì„±**|íŠ¸ë¦¬ê±°, JSON, ìœˆë„ìš° í•¨ìˆ˜ ë“± ê³ ê¸‰ ê¸°ëŠ¥ í’ë¶€|ìƒëŒ€ì ìœ¼ë¡œ ë‹¨ìˆœ|ëª¨ë“  ê¸°ëŠ¥ ê°€ëŠ¥ (ë¹„ìš©ë„ í¼)|
|ğŸ’° **ë¼ì´ì„ ìŠ¤**|ì˜¤í”ˆì†ŒìŠ¤ (ë¬´ë£Œ)|ì˜¤í”ˆì†ŒìŠ¤ (GPL)|ìœ ë£Œ|
|ğŸ”§ **ì„¤ì¹˜ ë° êµ¬ì„±**|ê°„ë‹¨ (Dockerë¡œ ë°”ë¡œ ê°€ëŠ¥)|ê°„ë‹¨|ë³µì¡, ì„¤ì¹˜ ì–´ë ¤ì›€|
|ğŸ§© **í™•ì¥ì„±**|ë†’ì€ í¸|ì¤‘ê°„|ë§¤ìš° ë†’ìŒ|
|ğŸ”„ **ì»¤ë®¤ë‹ˆí‹° & ìë£Œ**|í™œë°œ|



---

## âœ… ì£¼ìš” ì •ì  ë¶„ì„ ë„êµ¬ ë¹„êµ

| í•­ëª©               | **SonarQube**           | **Checkstyle** | **PMD**          | **FindBugs / SpotBugs** | **ESLint**      | **Coverity**     |
| ---------------- | ----------------------- | -------------- | ---------------- | ----------------------- | --------------- | ---------------- |
| **ì–¸ì–´ ì§€ì›**        | ë‹¤ìˆ˜ (Java, JS, Python ë“±) | Java ì¤‘ì‹¬        | Java, JS, Apex ë“± | Java ì¤‘ì‹¬                 | JS/TS           | C/C++, Java ë“±    |
| **ë¶„ì„ ë²”ìœ„**        | ë²„ê·¸, ë³´ì•ˆ, ìŠ¤ë©œ, ì»¤ë²„ë¦¬ì§€        | ì½”ë“œ ìŠ¤íƒ€ì¼         | ì½”ë“œ ìŠ¤ë©œ, ë²„ê·¸        | ë²„ê·¸ íƒì§€                   | ì½”ë“œ ìŠ¤íƒ€ì¼ + ì˜¤ë¥˜     | ë³´ì•ˆ, ê²°í•¨           |
| **UI ì œê³µ**        | âœ… ì›¹ UI ìˆìŒ               | âŒ CLI          | âŒ CLI            | âŒ CLI                   | ì¼ë¶€ (IDE í”ŒëŸ¬ê·¸ì¸)   | âœ… ì›¹ UI           |
| **CI/CD ì—°ë™**     | âœ… ë§¤ìš° ì‰¬ì›€                 | ì œí•œì             | ì œí•œì               | ì œí•œì                      | Jenkins ë“± ì—°ë™ ê°€ëŠ¥ | âœ… ì§€ì›             |
| **í™•ì¥ì„±**          | ë§¤ìš° ë†’ìŒ                   | ë‚®ìŒ             | ì¤‘ê°„               | ë‚®ìŒ                      | í”ŒëŸ¬ê·¸ì¸ ê¸°ë°˜ í™•ì¥ ê°€ëŠ¥   | ë§¤ìš° ë†’ìŒ            |
| **í•™ìŠµ ê³¡ì„ **        | ì¤‘ê°„                      | ì‰¬ì›€             | ì‰¬ì›€               | ì‰¬ì›€                      | ì‰¬ì›€              | ë†’ìŒ               |
| **ì‹¤ì‹œê°„ ë¶„ì„ (IDE)** | SonarLint ì´ìš©            | IDE í”ŒëŸ¬ê·¸ì¸       | ì—†ìŒ               | ì—†ìŒ                      | âœ…               | ì¼ë¶€ IDE ì§€ì›        |
| **ë¼ì´ì„ ìŠ¤**         | ì˜¤í”ˆì†ŒìŠ¤ / ìœ ë£Œ               | ì˜¤í”ˆì†ŒìŠ¤           | ì˜¤í”ˆì†ŒìŠ¤             | ì˜¤í”ˆì†ŒìŠ¤                    | ì˜¤í”ˆì†ŒìŠ¤            | ìƒìš© (ë¬´ë£Œ í”Œëœ ì¼ë¶€ ìˆìŒ) |



## ğŸ ì–´ë–¤ ë„êµ¬ë¥¼ ì–¸ì œ ì“°ë©´ ì¢‹ì„ê¹Œ?

| ìƒí™©                            | ì¶”ì²œ ë„êµ¬            |
| ----------------------------- | ---------------- |
| CI/CDì— í†µí•©í•˜ê³  ì „ì²´ í’ˆì§ˆì„ ê´€ë¦¬í•˜ê³  ì‹¶ë‹¤    | âœ… **SonarQube**  |
| Java ì½”ë“œ ìŠ¤íƒ€ì¼ë§Œ ê°„ë‹¨íˆ ì²´í¬í•˜ê³  ì‹¶ë‹¤      | âœ… **Checkstyle** |
| Java í”„ë¡œì íŠ¸ì˜ ê³ ì „ì  ì½”ë“œ ìŠ¤ë©œì„ ì ê²€í•˜ê³  ì‹¶ë‹¤ | âœ… **PMD**        |
| JS/TSì˜ ë¬¸ë²• ì˜¤ë¥˜, ì½”ë“œ ìŠ¤íƒ€ì¼ì„ ë¶„ì„í•˜ê³  ì‹¶ë‹¤ | âœ… **ESLint**     |
| ë³´ì•ˆ, ì•ˆì •ì„±ì´ ì¤‘ìš”í•œ ëŒ€í˜• í”„ë¡œì íŠ¸          | âœ… **Coverity**   |



## ğŸ” SonarQube Server,SonarCloud,SonarLint

| í•­ëª©             | **SonarQube Server**        | **SonarCloud**                    | **SonarLint**                         |
|------------------|-----------------------------|------------------------------------|----------------------------------------|
| í˜¸ìŠ¤íŒ… ìœ„ì¹˜       | ìì²´ ì„œë²„ / í´ë¼ìš°ë“œ         | SonarSource í´ë¼ìš°ë“œ               | ë¡œì»¬ IDE ë‚´ë¶€                          |
| ì„¤ì¹˜ í•„ìš”         | âœ… í•„ìš”í•¨                    | âŒ ì—†ìŒ                             | âŒ ì—†ìŒ (IDE í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ë§Œ í•„ìš”)     |
| ìœ ì§€ë³´ìˆ˜          | ì§ì ‘ ê´€ë¦¬                   | ìë™ ê´€ë¦¬                          | ë³„ë„ ìœ ì§€ë³´ìˆ˜ ì—†ìŒ                     |
| ë¹„ìš©             | ì»¤ë®¤ë‹ˆí‹° ë¬´ë£Œ, ìƒìœ„ ìœ ë£Œ     | ì˜¤í”ˆì†ŒìŠ¤ ë¬´ë£Œ, ë¹„ê³µê°œ ìœ ë£Œ         | ë¬´ë£Œ                                   |
| ë³´ì•ˆ             | ë‚´ë¶€ì—ì„œ ì§ì ‘ í†µì œ           | í´ë¼ìš°ë“œë¡œ ì½”ë“œ ì „ì†¡               | ì½”ë“œ ì™¸ë¶€ ì „ì†¡ ì—†ìŒ                    |
| ì‹œì‘ ì†ë„         | ëŠë¦¼                         | ë¹ ë¦„                                | ë§¤ìš° ë¹ ë¦„                              |
| GitHub ë“±ê³¼ í†µí•© | ìˆ˜ë™ ì„¤ì •                   | ìë™ ì—°ë™ ì§€ì›                     | Git ì—°ë™ ì•„ë‹˜ (IDE ë‚´ë¶€ ë¶„ì„)         |
| ì‚¬ìš© ëª©ì          | CIì—ì„œ ì „ì²´ ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬    | í´ë¼ìš°ë“œ ê¸°ë°˜ ì§€ì†ì  í’ˆì§ˆ ê´€ë¦¬     | ê°œë°œ ì¤‘ ì‹¤ì‹œê°„ ì½”ë“œ í”¼ë“œë°±             |
| ë¶„ì„ ì‹œì          | ì½”ë“œ í‘¸ì‹œ í›„ (ex. Jenkins)  | ì½”ë“œ í‘¸ì‹œ í›„ í´ë¼ìš°ë“œì—ì„œ ë¶„ì„     | IDEì—ì„œ ì €ì¥ ë˜ëŠ” ì‘ì„± ì‹œì ì— ë¶„ì„     |

ğŸ“ ì–´ë–¤ ìƒí™©ì— ì–´ë–¤ ë„êµ¬?
- SonarLint: ê°œë°œ ì¤‘ IDEì—ì„œ ë¹ ë¥´ê²Œ ì½”ë“œ í’ˆì§ˆ í”¼ë“œë°± ë°›ê³  ì‹¶ì„ ë•Œ (ê°œì¸ ê°œë°œì, ì´ˆê¸° ë‹¨ê³„)

- SonarQube Server: ë‚´ë¶€ë§ ë˜ëŠ” ì¡°ì§ ì „ìš© í™˜ê²½ì—ì„œ ì½”ë“œ í’ˆì§ˆì„ ê´€ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ

- SonarCloud: ë¹ ë¥´ê²Œ ì‹œì‘í•˜ê³  GitHub ë“± í´ë¼ìš°ë“œì™€ ì—°ë™í•˜ì—¬ í’ˆì§ˆ ê´€ë¦¬ ìë™í™”í•˜ê³  ì‹¶ì„ ë•Œ

---
## 4. Quality Gate

âœ… ê¸°ë³¸ ì„¤ì •(Default SonarQube Quality Gate ê¸°ì¤€)
| ê¸°ì¤€ í•­ëª©               | ì¡°ê±´                                 |
|--------------------------|--------------------------------------|
| New Bugs                 | 0ê°œ                                  |
| New Vulnerabilities      | 0ê°œ                                  |
| New Code Smells          | í—ˆìš© ê°€ëŠ¥ (ë‹¨, ë‹¤ë¥¸ ê¸°ì¤€ê³¼ ì¢…í•© í‰ê°€ë¨) |
| New Security Hotspots    | Reviewed (ê²€í†  ì™„ë£Œ) ìƒíƒœì—¬ì•¼ í•¨         |
| New Coverage             | 80% ì´ìƒ (í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€)               |
| New Duplications         | 3% ì´í•˜                               |
| Maintainability Rating   | A ~ B ë“±ê¸‰                           |
| Reliability Rating       | A ~ B ë“±ê¸‰                           |
| Security Rating          | A ~ B ë“±ê¸‰                           |

ğŸ¯ ìœ„ ì¡°ê±´ ì¤‘ í•˜ë‚˜ë¼ë„ ë²—ì–´ë‚˜ë©´, FAIL!


âš™ï¸ Qualiy Gate ì‚¬ìš©ì ì •ì˜
SonarQube UIì—ì„œ [Quality Gates] > [Create or Edit] ë©”ë‰´ì—ì„œ ì›í•˜ëŠ” ê¸°ì¤€ìœ¼ë¡œ ì§ì ‘ ì„¤ì • ê°€ëŠ¥

![image](https://github.com/user-attachments/assets/387d9ee1-71c4-4c88-9d59-bfc0f80ee68a)

ì˜ˆ: Duplications 5%ê¹Œì§€ í—ˆìš©, New Bugs 1ê°œê¹Œì§„ í—ˆìš© ë“±.



âœ… ë¶„ì„ ë“±ê¸‰ì˜ ì˜ë¯¸
| ë“±ê¸‰ | ì˜ë¯¸              |
|------|-------------------|
| A    | ë§¤ìš° ìš°ìˆ˜ (ë¬¸ì œ ê±°ì˜ ì—†ìŒ) |
| B    | ì–‘í˜¸               |
| C    | ì£¼ì˜ í•„ìš”          |
| D    | ê°œì„  í•„ìš”          |
| E    | ë§¤ìš° ì‹¬ê°          |



âœ… ë“±ê¸‰ ê¸°ì¤€ (Maintainability, Reliability, Security)
| ë“±ê¸‰ í•­ëª©        | ë¶„ì„ ëŒ€ìƒ                                |
|------------------|-------------------------------------------|
| Maintainability  | Code Smells â†’ ìœ ì§€ë³´ìˆ˜ ìš©ì´ì„± í‰ê°€        |
| Reliability      | Bugs â†’ ì‹ ë¢°ì„± / ì˜¤ë¥˜ ê°€ëŠ¥ì„± í‰ê°€           |
| Security         | Vulnerabilities â†’ ë³´ì•ˆì„± í‰ê°€              |



âœ… ë“±ê¸‰ ì ìš© ì—¬ë¶€ ë° ì´ìœ 
| í•­ëª©                | ë“±ê¸‰ ì ìš© | ì´ìœ                                                                  |
|---------------------|-----------|----------------------------------------------------------------------|
| Bugs                | âœ… ì ìš©ë¨  | ì˜¤ë¥˜ ë°œìƒ ê°€ëŠ¥ì„± â†’ ì‹ ë¢°ì„±(Reliability) ë“±ê¸‰ìœ¼ë¡œ ë°˜ì˜                   |
| Vulnerabilities     | âœ… ì ìš©ë¨  | ë³´ì•ˆ ê´€ë ¨ â†’ ë³´ì•ˆì„±(Security) ë“±ê¸‰ìœ¼ë¡œ ë°˜ì˜                             |
| Code Smells         | âœ… ì ìš©ë¨  | ìœ ì§€ë³´ìˆ˜ ë‚œì´ë„ â†’ ìœ ì§€ë³´ìˆ˜ì„±(Maintainability) ë“±ê¸‰ìœ¼ë¡œ ë°˜ì˜            |
| Coverage            | âŒ ë¯¸ì ìš©  | í¼ì„¼íŠ¸ë¡œ í‰ê°€ â†’ ëª…í™•í•œ ìˆ˜ì¹˜ ê¸°ì¤€ìœ¼ë¡œë§Œ íŒë‹¨ë¨                          |
| Duplications        | âŒ ë¯¸ì ìš©  | í¼ì„¼íŠ¸ ê¸°ì¤€ìœ¼ë¡œ í‰ê°€ â†’ ê¸°ì¤€ ì´ˆê³¼ ì‹œ Fail, ë“±ê¸‰ì€ ì—†ìŒ                  |
| Security Hotspots   | âŒ ë¯¸ì ìš©  | ìˆ˜ë™ ê²€í†  í•„ìš” â†’ ì‹¤ì œ ì·¨ì•½ì  ì—¬ë¶€ëŠ” ê°œë°œìê°€ íŒë‹¨í•´ì•¼ í•¨               |


---
## 5. ë¯¼ê° ì •ë³´ íŒë‹¨ ê¸°ì¤€ 

ğŸ”¸ ë³€ìˆ˜ëª… ê¸°ì¤€
SonarQubeëŠ” ë³€ìˆ˜ëª…ì— ë‹¤ìŒ í‚¤ì›Œë“œê°€ í¬í•¨ë˜ë©´ ë¯¼ê° ì •ë³´ì¼ ê°€ëŠ¥ì„±ì´ ìˆë‹¤ê³  íŒë‹¨:
```
- password
- passwd
- pwd
- secret
- token
- api_key
- auth
- credential
- private_key
```

ğŸ”¸ ê°’ íŒ¨í„´ ê¸°ì¤€
SonarQubeëŠ” ê°’ì´ íŠ¹ì • ì •ê·œì‹ì— ë§¤ì¹­ë  ê²½ìš°ì—ë„ ë¯¼ê° ì •ë³´ë¡œ ê°ì§€:

Base64 ë¬¸ìì—´ ("dXNlcjpwYXNzd29yZA==")

AWS í‚¤ íŒ¨í„´ (AKIA...)

API í‚¤ í˜•ì‹ (sk-..., ghp_...)

OAuth í† í° ë“±

---

## 6. SonarQube ì•„í‚¤í…ì²˜

![image](https://github.com/user-attachments/assets/e4c16b6b-49d0-4d59-b230-f4e05bca892a)

Sonarqube ìë™í™” ë™ì‘ ê³¼ì •
1. ê°œë°œìê°€ ì‘ì„±í•œ ì½”ë“œë¥¼ GitHubì— push
    
2. GitHub Webhookì´ Jenkinsë¡œ íŠ¸ë¦¬ê±° ì „ì†¡
    
3. Jenkinsê°€ Pipeline ì‹¤í–‰
    
4. `./gradlew build sonarqube` ë¡œ ë¹Œë“œ + ì •ì  ë¶„ì„ ì‹¤í–‰
    
5. Jenkins ë‚´ë¶€ Sonar Scannerê°€ ì½”ë“œë¥¼ ë¶„ì„í•˜ê³  ê²°ê³¼ë¥¼ SonarQube Serverì— ì „ì†¡
    
6. SonarQube ServerëŠ” ë¶„ì„ ê²°ê³¼ë¥¼ **ë£°ì…‹ ê¸°ë°˜ìœ¼ë¡œ ë¶„ë¥˜**í•˜ê³ , **ëŒ€ì‹œë³´ë“œ êµ¬ì„±**
    
7. ìµœì¢… ë¶„ì„ ë° ë¶„ë¥˜ëœ ê²°ê³¼ë¥¼ **SonarQube Database**ì— ì €ì¥


---

## 7. ì‹¤ìŠµ

### í™˜ê²½ì„¤ì •

### 1. docker âœ…
```
# docker ì„¤ì¹˜
# --cask : docker-compose + GUI ê°™ì´ ì„¤ì¹˜
brew install --cask docker

#docker ë²„ì „ í™•ì¸
docker --version

# docker ì‹¤í–‰
open /Applications/Docker.app
```

### 2. Jenkins,SonarQube,PostgresDB âœ…

*container ì‹¤í–‰*
```
# docker-compose.yml íŒŒì¼ ìƒì„± ë° ì¶”ê°€
vi docker-compose.yml

# docker-compose ì‹¤í–‰
docker-compose up -d

# jenkins pw í™•ì¸ docker exec -it jenkins cat /var/jenkins_home/secrets/initialAdminPassword

```

*ì‹¤í–‰ í™•ì¸*
<img width="1001" alt="image" src="https://github.com/user-attachments/assets/c0e20983-fdbc-429a-849a-96017ead7576" />



### 3. Jenkins-SonarQube ì—°ë™ âœ…

*1. SonarQube Token ë°œê¸‰*
![image](https://github.com/user-attachments/assets/22d1175b-9d58-419c-b610-69ab8398fbac)
<img width="1572" alt="image" src="https://github.com/user-attachments/assets/cfeb48e4-c7c2-4f2f-85d5-8eeb3a986b5a" />

  
*2. Jenkinsì— í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜*
- Sonar Scanner í”ŒëŸ¬ê·¸ì¸ 
![image](https://github.com/user-attachments/assets/117cc584-a7bb-4ad7-80ce-e23f0aee966f)


*3. Jenkinsì— SonarQube ì„œë²„ ë“±ë¡*
- Jenkinsì— í† í° ë“±ë¡ (Credentials)
![image](https://github.com/user-attachments/assets/6a72f2e0-a664-4d1c-a223-edbd078221d6)
![image](https://github.com/user-attachments/assets/952abd75-1d2f-4da4-93aa-999bd3852897)

- SonarQube ì„œë²„ ë“±ë¡
![image](https://github.com/user-attachments/assets/4a481faf-e862-4dd5-a96f-1002f085791c)
*Dashboard - jenkins ê´€ë¦¬ - System - SonarQube serversì— ê°’ ì…ë ¥*
- **Name** :  
    â†’ ì˜ˆ: `sonarqube` (ë‚˜ì¤‘ì— `withSonarQubeEnv('sonarqube')` í•  ë•Œ ì´ ì´ë¦„ ì”€)
    
- **Server URL**:  
    â†’ **ì¤‘ìš”**! Docker í™˜ê²½ì— ë”°ë¼ ì•„ë˜ ì¤‘ íƒ 1
    
    |ìƒí™©|URL|
    |---|---|
    |Dockerë¡œ SonarQube ì‹¤í–‰ ì¤‘ (Jenkinsë„ Docker)|`http://sonarqube:9000`|
    |JenkinsëŠ” ë¡œì»¬ ì‹¤í–‰, SonarQubeëŠ” Docker|`http://localhost:9000`|
    |ë‘˜ ë‹¤ Dockerì¸ë° JenkinsëŠ” docker-composeë¡œ ì‹¤í–‰ ì¤‘|`http://host.docker.internal:9000` |



### 4. Jenkins-Github ì—°ë™ âœ…
*1. Github Token ìƒì„±*
![image](https://github.com/user-attachments/assets/e41ae67c-1ca6-4638-af1a-acba8dd872f2)
1 **"Generate new token (classic)"** í´ë¦­
2.**Scope(ê¶Œí•œ)** ì„¤ì •

|ì˜ì—­|ê¶Œí•œ|ì„¤ëª…|
|---|---|---|
|`repo`|âœ… ì „ì²´|private/public ì €ì¥ì†Œ ì ‘ê·¼|
|`admin:repo_hook`|âœ…|webhook ì½ê¸°/ì“°ê¸°|

*2. Github webhookì„¤ì •*
- ngrok ì„¤ì¹˜ ë° ì‹¤í–‰
```
#ngrok ì„¤ì¹˜
brew install --cask ngrok

#ngrok ì„¤ì¹˜ í™•ì¸
ngrok version

#í† í° ë“±ë¡
ngrok config add-authtoken $YOUR_AUTHTOKEN

#ngrok ì‹¤í–‰
ngrok http 8080
```
![image](https://github.com/user-attachments/assets/b5b144b8-de09-4a1b-a1e3-0bf1e80e1bc2)

*3. Github-Webhooks ì„¤ì •*
![image](https://github.com/user-attachments/assets/a3cbd7ef-66bf-45df-a9e8-136a56d0bc70)
- Payload URL : ngrokìœ¼ë¡œ í„°ë„ë§ëœ URL/github-webhook/

### 5. Jenkinsì— ë“±ë¡ âœ…
- Jenkinsì— í† í° ë“±ë¡ (Credentials)
![image](https://github.com/user-attachments/assets/3d84dc73-56dc-47af-8300-01d2b970b6ff)


### 6. Jenkins pipeline êµ¬ì„± âœ…
*1. Pipeline ìƒì„±*
![image](https://github.com/user-attachments/assets/09989279-d7ee-483f-86f1-a9d20c5e787b)

*2. GitHub hook trigger for GITScm polling í´ë¦­ ë° script ì¶”ê°€*
![image](https://github.com/user-attachments/assets/dfe61b9a-dedb-40d4-b75a-54ad925c2661)

*Pipeline script*
```
pipeline {
    agent any  // Jenkinsì˜ ì–´ë–¤ Agent(ë…¸ë“œ)ì—ì„œë„ ì‹¤í–‰ ê°€ëŠ¥

    environment {
        SONARQUBE_ENV = 'sonarqube'  // Jenkins > Global Tool Configurationì— ì„¤ì •í•œ SonarQube ì„œë²„ ì´ë¦„
    }

    stages {
        stage('Checkout') {
            steps {
                git url: 'https://github.com/JaeHee-devSpace/sonartest.git', branch: 'main'  // GitHubì—ì„œ ì½”ë“œ í´ë¡ 
                sh 'ls -al'  // ì›Œí¬ìŠ¤í˜ì´ìŠ¤(ë£¨íŠ¸ ë””ë ‰í† ë¦¬) í™•ì¸ìš© ì¶œë ¥
            }
        }

        stage('Build & Test') {
            steps {
                sh 'chmod +x gradlew'            // gradlew ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
                sh './gradlew clean build test'  // í”„ë¡œì íŠ¸ í´ë¦° í›„ ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸ ìˆ˜í–‰
            }
        }

        stage('SonarQube Analysis') {
            steps {
                withSonarQubeEnv("${SONARQUBE_ENV}") {  // SonarQube ë¶„ì„ í™˜ê²½ ì„¤ì • (token, URL ë“± ìë™ ì„¸íŒ…ë¨)
                    sh './gradlew sonarqube'            // Gradleë¡œ SonarQube ë¶„ì„ ì‹¤í–‰
                }
            }
        }
    }

    post {
        success {
            echo 'âœ… ë¶„ì„ ì„±ê³µ! SonarQubeì—ì„œ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”.'  // ë¹Œë“œ ì„±ê³µ ì‹œ ë©”ì‹œì§€ ì¶œë ¥
        }
        failure {
            echo 'âŒ ë¶„ì„ ì‹¤íŒ¨. ë¡œê·¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.'  // ë¹Œë“œ ì‹¤íŒ¨ ì‹œ ë©”ì‹œì§€ ì¶œë ¥
        }
    }
}

```
