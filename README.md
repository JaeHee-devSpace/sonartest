# TechSemina - sonarQube를 이용한 자동 코드 테스트

## 사용 기술 및 


## 1. 프로젝트 개요


### 🔹 주제 선정 이유

- 동적 테스트 도구에만 익숙해 있지만, 정적 코드 분석 도구인 **SonarQube**도 코드 품질 관리에 중요하다는 점을 소개하고자 함
    
- **코드 리뷰 자동화 및 품질 진단 효율성 향상**을 통해 개발 시간 절감
    
- **CI/CD 파이프라인에 정적 분석 도구를 연동하는 방안**을 제안하여, 테스트 부담을 줄이고 인프라 구축에 집중할 수 있는 개발 환경 조성
    

### 🔹 기대 효과

- 코드 품질 지표의 정량적 관리
    
- 보안 취약점 사전 예방
    
- 코드 리뷰 효율성 향상 및 자동화 기반 확보


---

## 🔎 2. SonarQube란?

**SonarQube**는 정적 코드 분석 툴로, **코드 품질을 자동으로 검사하고 시각화**해주는 도구입니다. 개발자가 작성한 코드의 다음과 같은 요소들을 자동으로 분석합니다:

### ✅ 주요 기능

|항목|설명|
|---|---|
|**버그 (Bugs)**|실행 시 문제를 일으킬 수 있는 코드|
|**코드 스멜 (Code Smells)**|유지보수가 어려운 비효율적인 코드|
|**보안 취약점 (Vulnerabilities)**|보안에 민감한 문제|
|**보안 핫스팟 (Security Hotspots)**|검토가 필요한 보안 관련 코드|
|**중복 코드 (Duplications)**|복사-붙여넣기 된 중복 코드|
|**테스트 커버리지 (Coverage)**|테스트가 얼마나 잘 작성되었는지|


---

### 🧠 SonarQube가 왜 필요할까?

1. **코드 품질을 자동으로 점검**해주기 때문에 실수나 문제를 사전에 발견할 수 있어요.
    
2. **지속적인 품질 관리(Clean Code)** → CI/CD 파이프라인에 넣으면, 배포 전에 코드 품질을 자동으로 확인 가능.
    
3. 팀 전체의 **코딩 표준 유지**, 리뷰 효율성 향상.
    
4. 오픈소스 or 엔터프라이즈 환경 모두 지원.
    

---

### ⚙️ SonarQube  architecture

사진 추가 해야 됨
        

---

### 🛠️ 지원 언어 및 도구

- Java, Python, JavaScript, TypeScript, C#, Kotlin 등 다수
    
- Gradle, Maven, GitHub Actions, Jenkins 등과 연동 가능
    

---

### 🖥️ 기본 구성 요소

- **SonarQube Server**: 웹 UI와 분석 결과 저장
    
- **Scanner (분석기)**: 실제 코드를 검사해서 결과를 전송
    
- **Database**: 분석 결과 저장소 (PostgreSQL 등)

#### 1. **SonarQube Server**

- 📌 **무엇인가요?**  
    SonarQube의 **중심이 되는 서버**로, 웹 UI를 제공하며 분석 결과를 시각화하고 저장합니다.
    
- 🔧 **어떻게 쓰이나요?**
    
    - 개발자는 웹 브라우저를 통해 **분석 결과, 커버리지, 코드 스멜, 버그 등**을 확인
        
    - 관리자나 팀원들은 여기서 **품질 기준 설정, 프로젝트 관리**를 수행
        
    - REST API도 제공되어 외부 툴과 연동 가능 (예: Slack, Jenkins 알림 등)
        

#### 2. **Scanner (분석기)**

- 📌 **무엇인가요?**  
    실제로 코드를 읽고 분석한 다음, 그 결과를 SonarQube Server에 전송하는 **클라이언트 도구**입니다.
    
- 🔧 **어떻게 쓰이나요?**
    
    - Gradle/Maven/NPM/Jenkins 등에서 분석 명령을 실행할 때 작동
        
        bash
        
        복사편집
        
        `./gradlew sonarqube`
        
    - 이 명령이 Scanner를 실행 → **소스코드, 테스트, 커버리지 리포트, 코드 이슈** 등을 분석
        
    - 결과는 Server로 전송되어 UI에 표시됨
        

#### 3. **Database**

- 📌 **무엇인가요?**  
    SonarQube가 분석한 모든 데이터와 설정을 저장하는 **중앙 저장소**입니다.  
    주로 PostgreSQL, MySQL, Oracle 등을 사용합니다.
    
- 🔧 **어떻게 쓰이나요?**
    
    - **프로젝트 분석 기록, 사용자 설정, 품질 프로파일, 대시보드 데이터** 등을 저장
        
    - Server가 실행될 때 이 DB를 참조하여 모든 정보를 불러오고 갱신함
        
    - 장기적으로 여러 프로젝트 품질의 추이를 관리할 수 있음


## ✅ 주요 정적 분석 도구 비교

| 항목               | **SonarQube**           | **Checkstyle** | **PMD**          | **FindBugs / SpotBugs** | **ESLint**      | **Coverity**     |
| ---------------- | ----------------------- | -------------- | ---------------- | ----------------------- | --------------- | ---------------- |
| **언어 지원**        | 다수 (Java, JS, Python 등) | Java 중심        | Java, JS, Apex 등 | Java 중심                 | JS/TS           | C/C++, Java 등    |
| **분석 범위**        | 버그, 보안, 스멜, 커버리지        | 코드 스타일         | 코드 스멜, 버그        | 버그 탐지                   | 코드 스타일 + 오류     | 보안, 결함           |
| **UI 제공**        | ✅ 웹 UI 있음               | ❌ CLI          | ❌ CLI            | ❌ CLI                   | 일부 (IDE 플러그인)   | ✅ 웹 UI           |
| **CI/CD 연동**     | ✅ 매우 쉬움                 | 제한적            | 제한적              | 제한적                     | Jenkins 등 연동 가능 | ✅ 지원             |
| **확장성**          | 매우 높음                   | 낮음             | 중간               | 낮음                      | 플러그인 기반 확장 가능   | 매우 높음            |
| **학습 곡선**        | 중간                      | 쉬움             | 쉬움               | 쉬움                      | 쉬움              | 높음               |
| **실시간 분석 (IDE)** | SonarLint 이용            | IDE 플러그인       | 없음               | 없음                      | ✅               | 일부 IDE 지원        |
| **라이선스**         | 오픈소스 / 유료               | 오픈소스           | 오픈소스             | 오픈소스                    | 오픈소스            | 상용 (무료 플랜 일부 있음) |


## 🏁 어떤 도구를 언제 쓰면 좋을까?

| 상황                            | 추천 도구            |
| ----------------------------- | ---------------- |
| CI/CD에 통합하고 전체 품질을 관리하고 싶다    | ✅ **SonarQube**  |
| Java 코드 스타일만 간단히 체크하고 싶다      | ✅ **Checkstyle** |
| Java 프로젝트의 고전적 코드 스멜을 점검하고 싶다 | ✅ **PMD**        |
| JS/TS의 문법 오류, 코드 스타일을 분석하고 싶다 | ✅ **ESLint**     |
| 보안, 안정성이 중요한 대형 프로젝트          | ✅ **Coverity**   |

## 🔍 SonarQube Server vs SonarCloud

|항목|**SonarQube Server**|**SonarCloud**|
|---|---|---|
|호스팅 위치|자체 서버 / 클라우드|SonarSource 클라우드|
|설치 필요|✅ 필요함|❌ 없음|
|유지보수|직접 관리|자동 관리|
|비용|커뮤니티 무료, 상위 버전 유료|오픈소스 무료, 비공개 유료|
|보안|내부에서 직접 통제|클라우드로 전송됨|
|시작 속도|느림 (설치 필요)|빠름 (즉시 시작 가능)|
|GitHub 등과 통합|수동 설정|자동 연동 제공|


